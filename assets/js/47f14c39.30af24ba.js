"use strict";(self.webpackChunkfrontend_notes=self.webpackChunkfrontend_notes||[]).push([[152],{7667:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>i,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var n=t(4848),s=t(8453);const o={},c="\u9879\u76ee\u901a\u7528\u65b9\u6cd5",a={id:"javascript\u76f8\u5173/\u901a\u7528Utils",title:"\u9879\u76ee\u901a\u7528\u65b9\u6cd5",description:"\u5224\u65ad\u662f\u5426\u662f\u5bf9\u8c61",source:"@site/docs/javascript\u76f8\u5173/\u901a\u7528Utils.md",sourceDirName:"javascript\u76f8\u5173",slug:"/javascript\u76f8\u5173/\u901a\u7528Utils",permalink:"/docs/javascript\u76f8\u5173/\u901a\u7528Utils",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/javascript\u76f8\u5173/\u901a\u7528Utils.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u9632\u6296\u51fd\u6570",permalink:"/docs/javascript\u76f8\u5173/\u8282\u6d41\u548c\u9632\u6296"},next:{title:"npm install \u7684\u4e0d\u540c\u9009\u9879\uff1a--save\u3001--save-dev\u3001-S\u3001-D \u7684\u533a\u522b",permalink:"/docs/nodejs\u76f8\u5173/npm"}},i={},l=[];function u(e){const r={blockquote:"blockquote",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"\u9879\u76ee\u901a\u7528\u65b9\u6cd5",children:"\u9879\u76ee\u901a\u7528\u65b9\u6cd5"})}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:"\u5224\u65ad\u662f\u5426\u662f\u5bf9\u8c61"}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:'export const isObject = (value) => {\r\n  if (value === null) return false; // \u663e\u5f0f\u5904\u7406null\u503c\r\n  const constructorProperty = value.constructor;\r\n  return (\r\n    value &&\r\n    typeof value === "object" &&\r\n    constructorProperty === Object &&\r\n    Object.prototype.toString.call(value) === "[object Object]"\r\n  ); // \u4f7f\u7528\u66f4\u5065\u58ee\u7684\u65b9\u6cd5\u8fdb\u884c\u68c0\u67e5\r\n};\n'})}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:"Promise \u5ef6\u8fdf\u51fd\u6570"}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:"export default (timeout) =>\r\n  new Promise((resolve) => setTimeout(resolve, timeout));\n"})}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:"Promise \u5931\u8d25\u91cd\u8fde\u51fd\u6570"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"\u8be5\u51fd\u6570\u7528\u4e8e\u91cd\u8bd5\u6307\u5b9a\u7684\u5f02\u6b65\u51fd\u6570 fn\uff0c\u6700\u591a\u91cd\u8bd5 retries \u6b21\uff0c\u6bcf\u6b21\u91cd\u8bd5\u4e4b\u95f4\u7b49\u5f85 time \u6beb\u79d2\u7684\u5ef6\u8fdf\u3002\u5982\u679c\u51fd\u6570\u6267\u884c\u6210\u529f\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\uff1b\u5982\u679c\u6267\u884c\u5931\u8d25\uff0c\u5219\u6355\u83b7\u9519\u8bef\uff0c\u7b49\u5f85\u6307\u5b9a\u65f6\u95f4\u540e\u8fdb\u884c\u4e0b\u4e00\u6b21\u91cd\u8bd5\u3002\u5982\u679c\u5df2\u7ecf\u91cd\u8bd5\u4e86 retries \u6b21\u4ecd\u7136\u5931\u8d25\uff0c\u5219\u629b\u51fa\u9519\u8bef\u3002"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:'import delay from "./promiseDelay";\r\n\r\n/**\r\n * @param {Function} fn\r\n * @param {Number} retries\r\n * @param {Number} time\r\n */\r\nconst retry = (fn, retries, time) =>\r\n  fn().catch((err) => {\r\n    return delay(time).then(() =>\r\n      retries > 1 ? retry(fn, retries - 1, time) : Promise.reject(err)\r\n    );\r\n  });\r\n\r\nexport default retry;\n'})})]})}function d(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>c,x:()=>a});var n=t(6540);const s={},o=n.createContext(s);function c(e){const r=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);